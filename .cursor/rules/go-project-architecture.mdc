---
description: Go project architecture rules (Clean Architecture)
alwaysApply: true
---

# Go Project Architecture

Follow the full rules in:

- `@ai_go/v1/rules/project_architecture.md`

## When initializing a new project

- Use Cobra-CLI to scaffold; see **Project Initialization (Cobra)** in @ai_go/v1/rules/project_architecture.md for `cobra-cli init` (author, license, pkg-name) and `cobra-cli add <cmd>`.

## Key MUSTs

- Keep dependencies inward; inner layers MUST NOT import outer layers.
- `internal/infra` and other internal packages (e.g. domain, repos) may only be used by `internal/service`; handlers must not call infra/domain directly.
- All coding rules must follow the Formatting and Naming rules in code style.
- Forbid cyclic dependencies between packages.
- Define interfaces in the consuming layer; inject dependencies explicitly.
- Keep domain models independent of transport/persistence.
- Separate handlers, usecases/services, domain, and infra.
- Validate external input at the boundary and map to domain types.
- For every business logic change, check `docs/design` and update or add design documentation as needed.
